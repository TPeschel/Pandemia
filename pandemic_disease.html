<!DOCTYPE = HTML>
<html>
	<head>
		<title>
			PANDEMIC DISEASE SIMULATIONS
		</title>
		<script src="iterasures.js" type="text/javascript"></script>
		<script src="plot2d.js" type="text/javascript"></script>
		<script src="pandemic_disease.js" type="text/javascript"></script>
		<!-- <link rel="stylesheet" type="text/css" href="corona.css"> -->
		<style>
			body {
				background-color : #383838;
				color : #a0a0a0;
			}
		  canvas {
				background-color : #ffffff;
				border: 1px solid black;
				padding: 5px;
				width:99%;
				height:94%;
				border-spacing: 15px;
				text-align: center;
				position: relative;
			}
		</style>
	</head>
	<body>
		<p>
		  PANDEMIC DISEASE SIMULATIONS
		</p>
	  <div>
	    <canvas id="cnvs">
	      no html 5 supported
  	  </canvas>
	  </div>
		<script type="text/javascript">

		  let
		  pan = new Pandemic( "cnvs", count_of_humans = 100, radius = .01, velocity = .001, acceleration = 1.e-8, sicktime = 1000 );

		  let
		  t_id = 0,
		  st = 200.
		  t    = arr( 10 * st, add( ) ),
		  heal = arr( 10 * st ),
		  sick = arr( 10 * st ),
		  reco = arr( 10 * st ),
		  dead = arr( 10 * st ),
			updt = function ( ) {

		    if( 0 < pan.state( )[ 1 ] )

  				requestAnimationFrame ( updt );

				updPan ( );
			},

		  pan.bcol ( "#404040", "202020");

			pan.fcol ( "#808080", "#606060" );

	    pan.fnt ( "12pt Calibri" );

		  updPan = function ( ) {

		    pan.accelerate( );

		    pan.move( );

				pan.draw ( );
/*
		    let
		    state = pan.state( );

		    heal[ t_id ] = state[ 0 ];
		    sick[ t_id ] = state[ 1 ];
		    reco[ t_id ] = state[ 2 ];
		    dead[ t_id ] = state[ 3 ];

		    t_id = t_id < 10. * st ? t_id + 1 : 0;

		    d = document.getElementById( "lout1" );

		    d.innerHTML = "healthy: " + state[ 0 ].toString( ) + "<br>sick:" + state[ 1 ].toString( ) + "<br>recovered: " + state[ 2 ].toString( ) + "<br>dead: " + state[ 3 ].toString( );

        d = document.getElementById( "lout2" );

		    d.innerHTML = "healthy: " + state[ 0 ].toString( ) + "<br>sick:" + state[ 1 ].toString( ) + "<br>recovered: " + state[ 2 ].toString( ) + "<br>dead: " + state[ 3 ].toString( );

        plot2d = new Plot2d( "cnvs2" );

		    plot2d.bcol ( "#404040" );

		    plot2d.fcol ( "#00ff00" );
		    plot2d.addYX ( heal, t );

		    plot2d.fcol ( "#ff0000" );
		    plot2d.addYX ( sick, t );

		    plot2d.fcol ( "#ffff00" );
		    plot2d.addYX ( reco, t );

		    plot2d.fcol ( "#0000ff" );
		    plot2d.addYX ( dead, t );

				plot2d.fcol ( "#a0a0a0", "#f0f0f0" );
				plot2d.fnt ( "12pt Calibri" );
				//plot2d.grid ( );

				plot2d.draw ( ); */
      };

			requestAnimationFrame ( updt );

    </script>
	</body>
</html>
